name: 'Streamr Docker Dev Action'
description: 'Start Streamr Docker Stack'
inputs:
  services-to-start:
    description: 'Streamr Docker Stack services to start'
    required: false
    default: 'mysql redis engine-and-editor cassandra parity-node0 parity-sidechain-node0 bridge data-union-server broker-node-storage-1 nginx smtp platform'
runs:
  using: "composite"
  steps:
    - run: git clone --depth 1 https://github.com/streamr-dev/streamr-docker-dev.git
      shell: bash
    - run: |
          sudo ifconfig docker0 10.200.10.1/24
          ./streamr-docker-dev/bin.sh start ${{ inputs.services-to-start }}
          ./streamr-docker-dev/bin.sh wait
      shell: bash
      working-directory: streamr-docker-dev
